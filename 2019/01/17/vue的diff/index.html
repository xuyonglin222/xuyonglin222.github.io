<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="ä»»é£é›¨é£˜æ‘‡ æˆ‘è‡ªæ€¡ç„¶ä¸åŠ¨"><title>vueçš„diff | åºšåºš</title><link rel="stylesheet" type="text/css" href="../../../../css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/8.0.1/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/3.4.0/jquery.min.js"></script><link rel="icon" mask sizes="any" href="../../../../favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="../../../../favicon.ico"><link rel="apple-touch-icon" href="../../../../apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="../../../../apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="../../../../atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">vueçš„diff</h1><a id="logo" href="../../../../.">åºšåºš</a><p class="description">ä»»é£é›¨é£˜æ‘‡ æˆ‘è‡ªæ€¡ç„¶ä¸åŠ¨</p></div><div id="nav-menu"><a class="current" href="../../../../."><i class="fa fa-home"> é¦–é¡µ</i></a><a href="../../../../archives/"><i class="fa fa-archive"> å½’æ¡£</i></a><a href="../../../../about/"><i class="fa fa-user"> å…³äº</i></a><a href="../../../../atom.xml"><i class="fa fa-rss"> è®¢é˜…</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">vueçš„diff</h1><div class="post-meta">Jan 17, 2019<script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> é˜…è¯»</span></span><span class="post-time"><span class="post-meta-item-text"> | </span><span class="post-meta-item-icon"><i class="fa fa-keyboard-o"></i><span class="post-count"> 2,831</span><span class="post-meta-item-text"> å­—</span></span></span><span class="post-time"> | <span class="post-meta-item-icon"><i class="fa fa-hourglass-half"></i><span class="post-count"> 12</span><span class="post-meta-item-text"> åˆ†é’Ÿ</span></span></span></div><div class="post-content"><blockquote>
<p>æ˜¨å¤©éƒ¨é—¨åšäº†åˆ†äº«ï¼Œä¸»é¢˜æ˜¯reactï¼Œä¸çŸ¥é“ä¸ºæ¯›æ‰¯åˆ°äº†vueçš„diffçš„ï¼Œä¹‹å‰æœ‰çœ‹è¿‡diffæ–‡ç« å’Œéƒ¨åˆ†æºç ï¼Œæ—¶é—´å¤ªä¹…ï¼Œå‘ç°ä¹Ÿå¿˜è®°äº†ï¼Œäºæ˜¯é‡æ–°å»ç…äº†ä¸€ä¸‹æºç ï¼Œåšä¸ªæ€»ç»“ï¼Œä¸¾äº†3ä¸ªğŸŒ°ï¼Œç”»äº†12å¼ å›¾ï¼Œæ‰€ä»¥æœ¬æ–‡æ›´ä¾§é‡äºå›¾æ–‡ï¼Œè€Œä¸æ˜¯æºç å­æ›°ï¼šæ¸©æ•…è€ŒçŸ¥æ–°ï¼Œå¤äººè¯šä¸æˆ‘æ¬ºã€‚</p>
</blockquote>
<a id="more"></a>
<h2 id="å…³é”®æºç "><a href="#å…³é”®æºç " class="headerlink" title="å…³é”®æºç "></a>å…³é”®æºç </h2><h3 id="updateChildren"><a href="#updateChildren" class="headerlink" title="updateChildren"></a>updateChildren</h3><p>vueå…³äºdiffæ¨¡å—æºç åœ°å€ï¼š<a href="https://github.com/vuejs/vue/blob/2.6/src/core/vdom/patch.js" target="_blank" rel="noopener">https://github.com/vuejs/vue/blob/2.6/src/core/vdom/patch.js</a></p>
<p>å…¶ä¸­æœ€å…³é”®çš„å°±æ˜¯åœ¨404è¡Œçš„updateChildrençš„å‡½æ•°é‡Œï¼Œé¡ºä¾¿åŠ ç‚¹æ³¨é‡Šï¼ŒPSï¼šæœ€å¥½ä»¥åé¢çš„å›¾æ–‡ä¸ºä¸»ã€‚</p>
<p>è§„åˆ™å¾ˆç®€å•ï¼Œå¾ªç¯ä½“å†…ï¼š</p>
<ul>
<li>é¦–å…ˆåˆ¤æ–­newStartå’ŒoldEndæ˜¯ä¸æ˜¯undefindï¼Œå¦‚æœæ˜¯å°±newStartå¾€åç§»ï¼ŒoldEndå¾€å‰ç§»åŠ¨ã€‚ï¼ˆæºç ä¸­ç”¨çš„oldStartIdxï¼ŒoldEndIdxï¼ŒnewStartIdxï¼ŒoldStartVnodeæŒ‡å¾—æ˜¯ç´¢å¼•ï¼Œæˆ‘çš„æè¿°å€¾å‘äºæŒ‡é’ˆï¼ŒæŒ‡å‘çš„æ˜¯è¯¥vNodeèŠ‚ç‚¹ï¼Œæ²¡å•¥åŒºåˆ«ï¼‰</li>
<li>oldStartå’ŒnewStartåˆ¤æ–­æ˜¯å¦å€¼å¾—æ¯”è¾ƒï¼Œè‹¥trueå°±patchï¼Œç„¶ånewStart++ï¼ŒoldStart++ï¼Œå¦åˆ™è¿›å…¥ä¸‹ä¸€æ­¥ã€‚</li>
<li>oldEndå’ŒnewEndåˆ¤æ–­æ˜¯å¦å€¼å¾—æ¯”è¾ƒï¼Œè‹¥trueå°±patchï¼Œç„¶ånewEndâ€“ï¼ŒoldEndâ€“ï¼Œå¦åˆ™è¿›å…¥ä¸‹ä¸€æ­¥ã€‚</li>
<li>oldStartå’ŒnewEndåˆ¤æ–­æ˜¯å¦å€¼å¾—æ¯”è¾ƒï¼Œè‹¥trueå°±patchï¼Œæ¥ç€å°†oldStartæ‰€æŒ‡å‘çš„çœŸå®èŠ‚ç‚¹ç§»åŠ¨åˆ°çš„oldEndæ‰€æŒ‡å‘çš„çœŸå®èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹çš„å‰é¢ï¼ˆå°±æ˜¯ç§»åŠ¨åˆ°oldENdçš„ä½ç½®ï¼‰ï¼Œç„¶ånewEndâ€“ï¼ŒoldStart++ï¼Œå¦åˆ™è¿›å…¥ä¸‹ä¸€æ­¥ã€‚</li>
<li><p>oldEndå’ŒnewStartåˆ¤æ–­æ˜¯å¦å€¼å¾—æ¯”è¾ƒï¼Œè‹¥trueå°±patchï¼Œæ¥ç€å°†oldEndæ‰€æŒ‡å‘çš„çœŸå®èŠ‚ç‚¹ç§»åŠ¨åˆ°oldStartçš„å‰é¢,ç„¶åoldEndâ€“ï¼ŒnewStart++ï¼Œå¦åˆ™è¿›å…¥ä¸‹ä¸€æ­¥ã€‚</p>
</li>
<li><p>å¦‚æœä¸¤ç»„æŒ‡é’ˆéƒ½ä¸èƒ½åˆ¤æ–­ä¸€ä¸ªnewVdomæ˜¯å¢åŠ çš„è¿˜æ˜¯åˆ é™¤ï¼Œå°±ä¼šåˆ›å»ºä¸€ä¸ªmapï¼Œå­˜å‚¨oldVnodeçš„æ˜ å°„ã€‚</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> updateChildren (parentElm, oldCh, newCh, insertedVnodeQueue, removeOnly) &#123;</span><br><span class="line">    <span class="built_in">let</span> oldStartIdx = 0</span><br><span class="line">    <span class="built_in">let</span> newStartIdx = 0</span><br><span class="line">    <span class="built_in">let</span> oldEndIdx = oldCh.length - 1</span><br><span class="line">    <span class="built_in">let</span> oldStartVnode = oldCh[0]</span><br><span class="line">    <span class="built_in">let</span> oldEndVnode = oldCh[oldEndIdx]</span><br><span class="line">    <span class="built_in">let</span> newEndIdx = newCh.length - 1</span><br><span class="line">    <span class="built_in">let</span> newStartVnode = newCh[0]</span><br><span class="line">    <span class="built_in">let</span> newEndVnode = newCh[newEndIdx]</span><br><span class="line">    <span class="built_in">let</span> oldKeyToIdx, idxInOld, vnodeToMove, refElm</span><br><span class="line"></span><br><span class="line">    // removeOnly is a special flag used only by &lt;transition-group&gt;</span><br><span class="line">    // to ensure removed elements stay <span class="keyword">in</span> correct relative positions</span><br><span class="line">    // during leaving transitions</span><br><span class="line">    const canMove = !removeOnly</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (process.env.NODE_ENV !== <span class="string">'production'</span>) &#123;</span><br><span class="line">      checkDuplicateKeys(newCh)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> (oldStartIdx &lt;= oldEndIdx &amp;&amp; newStartIdx &lt;= newEndIdx) &#123;</span><br><span class="line">      <span class="keyword">if</span> (isUndef(oldStartVnode)) &#123;</span><br><span class="line">        oldStartVnode = oldCh[++oldStartIdx] // Vnode has been moved left</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (isUndef(oldEndVnode)) &#123;</span><br><span class="line">        oldEndVnode = oldCh[--oldEndIdx]</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (sameVnode(oldStartVnode, newStartVnode)) &#123;</span><br><span class="line">        patchVnode(oldStartVnode, newStartVnode, insertedVnodeQueue, newCh, newStartIdx)</span><br><span class="line">        oldStartVnode = oldCh[++oldStartIdx]</span><br><span class="line">        newStartVnode = newCh[++newStartIdx]</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (sameVnode(oldEndVnode, newEndVnode)) &#123;</span><br><span class="line">        patchVnode(oldEndVnode, newEndVnode, insertedVnodeQueue, newCh, newEndIdx)</span><br><span class="line">        oldEndVnode = oldCh[--oldEndIdx]</span><br><span class="line">        newEndVnode = newCh[--newEndIdx]</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (sameVnode(oldStartVnode, newEndVnode)) &#123; // Vnode moved right</span><br><span class="line">        patchVnode(oldStartVnode, newEndVnode, insertedVnodeQueue, newCh, newEndIdx)</span><br><span class="line">        canMove &amp;&amp; nodeOps.insertBefore(parentElm, oldStartVnode.elm, nodeOps.nextSibling(oldEndVnode.elm))</span><br><span class="line">        oldStartVnode = oldCh[++oldStartIdx]</span><br><span class="line">        newEndVnode = newCh[--newEndIdx]</span><br><span class="line">      &#125; <span class="keyword">else</span> <span class="keyword">if</span> (sameVnode(oldEndVnode, newStartVnode)) &#123; // Vnode moved left</span><br><span class="line">        patchVnode(oldEndVnode, newStartVnode, insertedVnodeQueue, newCh, newStartIdx)</span><br><span class="line">        canMove &amp;&amp; nodeOps.insertBefore(parentElm, oldEndVnode.elm, oldStartVnode.elm)</span><br><span class="line">        oldEndVnode = oldCh[--oldEndIdx]</span><br><span class="line">        newStartVnode = newCh[++newStartIdx]</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">       /*</span><br><span class="line">          ç”Ÿæˆä¸€ä¸ªkeyä¸æ—§VNodeçš„keyå¯¹åº”çš„å“ˆå¸Œè¡¨ï¼Œå½¢å¦‚&#123;oldKey0: 0,oldKey1: 1,oldKey2: 2,oldKey3:</span><br><span class="line">          3&#125;ï¼Œmapçš„KEY(olKeyn)ä¸ºvnodeçš„keyå€¼ï¼Œmapçš„VALUE(n)ä¸ºè¯¥vnodeåœ¨oldVnodeåºåˆ—çš„ç´¢å¼•</span><br><span class="line">        */</span><br><span class="line">        <span class="keyword">if</span> (isUndef(oldKeyToIdx)) oldKeyToIdx = createKeyToOldIdx(oldCh, oldStartIdx, oldEndIdx)</span><br><span class="line">        idxInOld = isDef(newStartVnode.key)</span><br><span class="line">          ? oldKeyToIdx[newStartVnode.key]</span><br><span class="line">          : findIdxInOld(newStartVnode, oldCh, oldStartIdx, oldEndIdx)</span><br><span class="line">        <span class="keyword">if</span> (isUndef(idxInOld)) &#123; // New element</span><br><span class="line">          createElm(newStartVnode, insertedVnodeQueue, parentElm, oldStartVnode.elm, <span class="literal">false</span>, newCh, newStartIdx)</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          vnodeToMove = oldCh[idxInOld]</span><br><span class="line">          <span class="keyword">if</span> (sameVnode(vnodeToMove, newStartVnode)) &#123;</span><br><span class="line">            patchVnode(vnodeToMove, newStartVnode, insertedVnodeQueue, newCh, newStartIdx)</span><br><span class="line">            oldCh[idxInOld] = undefined</span><br><span class="line">            canMove &amp;&amp; nodeOps.insertBefore(parentElm, vnodeToMove.elm, oldStartVnode.elm)</span><br><span class="line">          &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            // same key but different element. treat as new element</span><br><span class="line">            createElm(newStartVnode, insertedVnodeQueue, parentElm, oldStartVnode.elm, <span class="literal">false</span>, newCh, newStartIdx)</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        newStartVnode = newCh[++newStartIdx]</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (oldStartIdx &gt; oldEndIdx) &#123;</span><br><span class="line">      refElm = isUndef(newCh[newEndIdx + 1]) ? null : newCh[newEndIdx + 1].elm</span><br><span class="line">      addVnodes(parentElm, refElm, newCh, newStartIdx, newEndIdx, insertedVnodeQueue)</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (newStartIdx &gt; newEndIdx) &#123;</span><br><span class="line">      removeVnodes(parentElm, oldCh, oldStartIdx, oldEndIdx)</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">------------</span><br><span class="line"><span class="keyword">function</span> createKeyToOldIdx (children, beginIdx, endIdx) &#123;</span><br><span class="line">  <span class="built_in">let</span> i, key</span><br><span class="line">  const map = &#123;&#125;</span><br><span class="line">  <span class="keyword">for</span> (i = beginIdx; i &lt;= endIdx; ++i) &#123;</span><br><span class="line">    key = children[i].key</span><br><span class="line">    <span class="keyword">if</span> (isDef(key)) map[key] = i</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="built_in">return</span> map</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="patchVnode"><a href="#patchVnode" class="headerlink" title="patchVnode"></a>patchVnode</h3><p>ä»£ç åœ¨è¿™ï¼š<a href="https://github.com/vuejs/vue/blob/2.6/src/core/vdom/patch.js" target="_blank" rel="noopener">https://github.com/vuejs/vue/blob/2.6/src/core/vdom/patch.js</a>   ç¬¬501è¡Œã€‚<br>å…¶å®è¿™ä¸ªå‡½æ•°å°±æ˜¯åœ¨ä¸¤ä¸ªèŠ‚ç‚¹å€¼å¾—diffçš„æƒ…å†µä¸‹ï¼Œå»æ›´æ–°å·®å¼‚ã€‚<br>è§„åˆ™å¦‚ä¸‹ï¼š</p>
<p>1.å¦‚æœæ–°æ—§VNodeéƒ½æ˜¯é™æ€çš„ï¼ŒåŒæ—¶å®ƒä»¬çš„keyç›¸åŒï¼ˆä»£è¡¨åŒä¸€èŠ‚ç‚¹ï¼‰ï¼Œå¹¶ä¸”æ–°çš„VNodeæ˜¯cloneæˆ–è€…æ˜¯æ ‡è®°äº†onceï¼ˆæ ‡è®°v-onceå±æ€§ï¼Œåªæ¸²æŸ“ä¸€æ¬¡ï¼‰ï¼Œé‚£ä¹ˆåªéœ€è¦æ›¿æ¢elmä»¥åŠcomponentInstanceå³å¯ã€‚</p>
<p>2.æ–°è€èŠ‚ç‚¹å‡æœ‰childrenå­èŠ‚ç‚¹ï¼Œåˆ™å¯¹å­èŠ‚ç‚¹è¿›è¡Œdiffæ“ä½œï¼Œè°ƒç”¨updateChildrenï¼Œè¿™ä¸ªupdateChildrenä¹Ÿæ˜¯diffçš„æ ¸å¿ƒã€‚</p>
<p>3.å¦‚æœè€èŠ‚ç‚¹æ²¡æœ‰å­èŠ‚ç‚¹è€Œæ–°èŠ‚ç‚¹å­˜åœ¨å­èŠ‚ç‚¹ï¼Œå…ˆæ¸…ç©ºè€èŠ‚ç‚¹DOMçš„æ–‡æœ¬å†…å®¹ï¼Œç„¶åä¸ºå½“å‰DOMèŠ‚ç‚¹åŠ å…¥å­èŠ‚ç‚¹ã€‚</p>
<p>4.å½“æ–°èŠ‚ç‚¹æ²¡æœ‰å­èŠ‚ç‚¹è€Œè€èŠ‚ç‚¹æœ‰å­èŠ‚ç‚¹çš„æ—¶å€™ï¼Œåˆ™ç§»é™¤è¯¥DOMèŠ‚ç‚¹çš„æ‰€æœ‰å­èŠ‚ç‚¹ã€‚</p>
<p>5.å½“æ–°è€èŠ‚ç‚¹éƒ½æ— å­èŠ‚ç‚¹çš„æ—¶å€™ï¼Œåªæ˜¯æ–‡æœ¬çš„æ›¿æ¢ã€‚</p>
<h3 id="sameVnode"><a href="#sameVnode" class="headerlink" title="sameVnode"></a>sameVnode</h3><p>ä»£ç é‡å¾ˆå°‘å°±è´´ä¸€ä¸‹ä»£ç ï¼Œå…¶å®åŠŸèƒ½å°±æ˜¯åˆ¤æ–­ä¸¤ä¸ªè™šæ‹ŸdomèŠ‚ç‚¹æ˜¯ä¸æ˜¯å€¼å¾—patchã€‚</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> sameVnode (a, b) &#123;</span><br><span class="line">  <span class="built_in">return</span> (</span><br><span class="line">    a.key === b.key &amp;&amp; (</span><br><span class="line">      (</span><br><span class="line">        a.tag === b.tag &amp;&amp;</span><br><span class="line">        a.isComment === b.isComment &amp;&amp;</span><br><span class="line">        isDef(a.data) === isDef(b.data) &amp;&amp;</span><br><span class="line">        sameInputType(a, b)</span><br><span class="line">      ) || (</span><br><span class="line">        isTrue(a.isAsyncPlaceholder) &amp;&amp;</span><br><span class="line">        a.asyncFactory === b.asyncFactory &amp;&amp;</span><br><span class="line">        isUndef(b.asyncFactory.error)</span><br><span class="line">      )</span><br><span class="line">    )</span><br><span class="line">  )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h2 id="å¼€å§‹BB"><a href="#å¼€å§‹BB" class="headerlink" title="å¼€å§‹BB"></a>å¼€å§‹BB</h2><p>é¦–å…ˆdiffæ˜¯å¯¹æ–°çš„å’Œè€çš„vNodeèŠ‚ç‚¹è¿›è¡Œæ¯”å¯¹ï¼Œæ¯”å¯¹ä¾èµ–äºä¸¤ä¸ªä¸œè¥¿ï¼š</p>
<ul>
<li><p>ä¸¤ç»„æŒ‡é’ˆï¼ŒnewStartï¼ŒnewEndä»¥åŠoldStartï¼ŒoldEndï¼Œé€šè¿‡å¯¹æ¯”ç§»åŠ¨ï¼Œæœ€åæ¯”è¾ƒä¸¤ç»„å€¼çš„å¤§å°ï¼Œæ¥ç¡®å®šåˆ é™¤å¢åŠ ç§»åŠ¨ï¼Œä½†å¹¶ä¸æ˜¯æ‰€æœ‰çš„æƒ…å†µéƒ½èƒ½è¦†ç›–ã€‚</p>
</li>
<li><p>ä¸€ä¸ªmapï¼Œæ˜¯ä¸€ä¸ªç”¨æ¥å»ºç«‹oldVnodeçš„keyå’Œç´¢å¼•çš„æ˜ å°„å…³ç³»ï¼Œå½¢å¦‚</p>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    oldKey0: 0,</span><br><span class="line">    oldKey1: 1,</span><br><span class="line">    oldKey2: 2,</span><br><span class="line">    oldKey3: 3,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="ä¸¾ä¸ªğŸŒ°"><a href="#ä¸¾ä¸ªğŸŒ°" class="headerlink" title="ä¸¾ä¸ªğŸŒ°"></a>ä¸¾ä¸ªğŸŒ°</h3><p>åŸæ¥domèŠ‚ç‚¹æ˜¯è¿™æ ·çš„ï¼ŒABCDå¯¹åº”èŠ‚ç‚¹çš„keyåˆ†åˆ«ä¸ºAï¼ŒBï¼ŒCï¼ŒDï¼Œåæ¥åœ¨Bå’ŒCæ’å…¥äº†ä¸€ä¸ªå…ƒç´ Xï¼Œé‚£ä¹ˆåœ¨diffçš„æ—¶å€™ï¼ŒæŒ‡é’ˆçš„æŒ‡å‘å¦‚ä¸‹åˆ—å›¾æ‰€ç¤ºã€‚</p>
<p><img src="https://xuyonglinblog.oss-cn-beijing.aliyuncs.com/1.jpg" alt="1"></p>
<h4 id="ç¬¬1æ­¥"><a href="#ç¬¬1æ­¥" class="headerlink" title="ç¬¬1æ­¥"></a>ç¬¬1æ­¥</h4><p>åœ¨æ»¡è¶³oldStart&lt;= oldEnd &amp;&amp; newStart &lt;= newEndæ—¶ï¼ŒoldStartå’ŒnewStartè¿›è¡Œå¯¹æ¯”ï¼ŒsameVnodeå‡½æ•°è¿”å›trueï¼Œä¹Ÿå°±æ˜¯è¯´å€¼å¾—æ¯”è¾ƒï¼Œäºæ˜¯å°±patchVnodeå°±æ˜¯è®²æ–°äº§ç”Ÿçš„å˜åŒ–æ›´æ–°åˆ°çœŸå®çš„domèŠ‚ç‚¹ä¸Šï¼Œä¹‹åæ”¹å˜æŒ‡é’ˆæŒ‡å‘è¿›å…¥ä¸‹ä¸€æ­¥ï¼Œå¦‚å›¾æ‰€ç¤ºã€‚</p>
<p><img src="https://xuyonglinblog.oss-cn-beijing.aliyuncs.com/2.jpg" alt="2"></p>
<h4 id="ç¬¬2æ­¥"><a href="#ç¬¬2æ­¥" class="headerlink" title="ç¬¬2æ­¥"></a>ç¬¬2æ­¥</h4><p>æ¥ç€å‘ç°newBå’ŒoldBä¹Ÿæ˜¯å€¼å¾—æ¯”è¾ƒçš„å°±é‡å¤ä¸Šè¿°çš„æ­¥éª¤</p>
<p><img src="https://xuyonglinblog.oss-cn-beijing.aliyuncs.com/3.jpg" alt="2"></p>
<h4 id="ç¬¬3æ­¥"><a href="#ç¬¬3æ­¥" class="headerlink" title="ç¬¬3æ­¥"></a>ç¬¬3æ­¥</h4><p>Cå’ŒXä¸ä¸€æ ·ï¼Œä¹Ÿå°±æ˜¯è¯´sameVnodeè¿”å›çš„æ˜¯falseï¼Œé‚£ä¹ˆå°±ä¼šæ¯”è¾ƒoldEndå’ŒnewEndï¼Œå‘ç°æ˜¯å€¼å¾—æ¯”è¾ƒçš„ï¼Œæ²¡è¯è¯´ï¼Œä¸Šå»å°±æ˜¯ä¸€é¡¿patchï¼Œç„¶åæŒ‡é’ˆéƒ½å¾€å‰ç§»ï¼ŒğŸ‘‡</p>
<p><img src="https://xuyonglinblog.oss-cn-beijing.aliyuncs.com/4.jpg" alt="2"></p>
<h4 id="ç¬¬4æ­¥"><a href="#ç¬¬4æ­¥" class="headerlink" title="ç¬¬4æ­¥"></a>ç¬¬4æ­¥</h4><p>è¿™ä¸ªæ—¶å€™è¿˜æ˜¯æ»¡è¶³whileçš„å¾ªç¯æ¡ä»¶çš„å˜›ï¼Œæ•…ä¸€é¡¿patchä¹‹åï¼ŒæŒ‡é’ˆå‰ç§»ï¼ŒğŸ‘‡</p>
<p><img src="https://xuyonglinblog.oss-cn-beijing.aliyuncs.com/5.jpg" alt="2"></p>
<h4 id="ç¬¬5æ­¥"><a href="#ç¬¬5æ­¥" class="headerlink" title="ç¬¬5æ­¥"></a>ç¬¬5æ­¥</h4><p>è¿™ä¸ªæ—¶å€™oldEnd&gt;oldStartä¸æ»¡è¶³oldStartIdx &lt;= oldEndIdx &amp;&amp; newStartIdx &lt;= newEndIdxï¼Œè¿™ä¸ªæ—¶å€™</p>
<p><img src="https://xuyonglinblog.oss-cn-beijing.aliyuncs.com/fenxi.jpeg" alt></p>
<p>oldStart &gt; oldEndï¼Œé‚£ä¹ˆnewStartå’ŒnewEndæ‰€æŒ‡å‘çš„èŠ‚ç‚¹å°±æ˜¯æ–°å¢çš„ï¼Œåè¿‡æ¥</p>
<p>newStart &gt; newEndï¼Œé‚£ä¹ˆoldStartå’ŒoldEndæ‰€æŒ‡å‘çš„èŠ‚ç‚¹å°±æ˜¯è¢«åˆ æ‰çš„ã€‚åˆ¤æ–­å‡ºè¯¥èŠ‚ç‚¹çš„çŠ¶æ€ä¹‹åï¼Œå°±ç›´æ¥åœ¨çœŸå®çš„domä¸Šå»æ›´æ–°äº†ï¼Œå°±æ˜¯ç”¨çš„addVnodesæˆ–è€…removeVnodesï¼Œçœ‹ç€æ˜¯ç©¿è¿›å»äº†å¾ˆå¤šå‚æ•°ï¼Œå…¶å®æœ€åï¼Œå°±æ˜¯insert(parentEle, X, C)ï¼Œå…¶å®æœ€ç»ˆå˜æ¢å½¢æ€å°±æ˜¯parentEle.insertBefore(X, C)ï¼Œåœ¨Cå‰æ’å…¥Xï¼Œæˆ‘ä¹‹å‰ä¸€ç›´ä»¥ä¸ºä¼šç”¨é˜Ÿåˆ—è¿›è¡Œç¼“å­˜è¿™ä¸ªæ’å…¥çš„çŠ¶æ€ï¼Œç„¶ååœ¨Domå¼•æ“ä¸€æ¬¡æ›´æ–°ï¼ˆæƒ³åˆ°å•¥ï¼Œå†™ç‚¹å•¥ï¼‰ï¼Œé¡ºä¾¿è¯´ä¸€ä¸‹ï¼Œæ‰€è°“ç›´æ¥æ“ä½œdomæ€§èƒ½å·®çš„åŸå› ï¼š</p>
<blockquote>
<ol>
<li>jsæ˜¯å•çº¿ç¨‹çš„ï¼Œä½†æ˜¯Domæ“ä½œå’Œjsæ‰§è¡Œæ˜¯åœ¨ä¸åŒçš„å¼•æ“ä¸Šçš„ï¼Œdomè¿›è¡Œæ“ä½œæ—¶ï¼ŒJSå¼•æ“å°±å¾—è¢«æŒ‚èµ·ï¼Œåä¹‹äº¦ç„¶ã€‚</li>
<li>JS ä»£ç è°ƒç”¨ DOM API å¿…é¡»ç»è¿‡ <em>æŒ‚èµ· JS å¼•æ“ã€è½¬æ¢ä¼ å…¥å‚æ•°æ•°æ®ã€æ¿€æ´» DOM å¼•æ“</em>ï¼ŒDOM é‡ç»˜åå†è½¬æ¢å¯èƒ½æœ‰çš„è¿”å›å€¼ï¼Œæœ€åæ¿€æ´» JS å¼•æ“å¹¶ç»§ç»­æ‰§è¡Œï¼Œå†æŒ‚èµ·Domå¼•æ“ã€‚</li>
<li>è‹¥æœ‰é¢‘ç¹çš„ DOM API è°ƒç”¨ï¼Œä¸”æµè§ˆå™¨å‚å•†ä¸åšâ€œæ‰¹é‡å¤„ç†â€ä¼˜åŒ–ï¼Œå¼•æ“é—´åˆ‡æ¢çš„å•ä½ä»£ä»·å°†è¿…é€Ÿç§¯ç´¯ã€‚</li>
<li>è‹¥å…¶ä¸­æœ‰å¼ºåˆ¶é‡ç»˜çš„ DOM API è°ƒç”¨ï¼Œä¸ä½†å‚å•†è´¹å°½å¿ƒæœºåšçš„â€œæ‰¹é‡å¤„ç†â€ä¼˜åŒ–è¢«ä¸­æ–­ï¼Œ<strong>é‡æ–°è®¡ç®—å¸ƒå±€</strong>ã€<strong>é‡æ–°ç»˜åˆ¶å›¾åƒ</strong>ä¼šå¼•èµ·æ›´å¤§çš„æ€§èƒ½æ¶ˆè€—ã€‚</li>
</ol>
</blockquote>
<p>æ‰€ä»¥ï¼Œæˆ‘è§‰å¾—é¢‘ç¹çš„æ›´æ–°Domï¼Œé¢‘ç¹çš„åˆ‡æ¢å¼•æ“ï¼Œå¼•æ“çš„ä¸æ–­æŒ‚èµ·å’Œæ¿€æ´»ï¼Œæ— ç–‘æ˜¯åœ¨æ¶ˆè€—å·¨å¤§çš„æ€§èƒ½ï¼Œæ•…ç”¨ä¸ªé˜Ÿåˆ—å­˜ä¸€ä¸‹ï¼Œä¸€æ¬¡æ›´æ–°ï¼Œé¿å…å¼€é”€ï¼Œç„¶è€Œçœ‹æºç ä¹‹åï¼Œå‘ç°vueå¹¶æ²¡æœ‰åšï¼Œå…¶å®å¾ˆæ˜¾ç„¶ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚æ‹¿é˜Ÿåˆ—å»å­˜å‚¨æ›´æ–°çš„domçš„çŠ¶æ€ï¼Œç„¶åå¾ªç¯éå†è¯»å–çŠ¶æ€å¹¶æ›´æ–°ä¹Ÿæ˜¯è¦åˆ‡æ¢å¼•æ“çš„ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ï¼ˆç«Ÿç„¶æŠŠä¸€ä¸ªé”™è¯¯çš„ç†è§£äº†è¿™ä¹ˆä¹…ï¼‰ã€‚ç°åœ¨å…¶å®åªç”¨äº†å¤´å’Œå¤´å°¾è·Ÿå°¾çš„æ¯”è¾ƒï¼Œè¿˜æœ‰å¤´è·Ÿå°¾ï¼Œå°¾å’Œå¤´çš„å‘¢ï¼Ÿé‚£å°±å†ä¸¾ä¸ªğŸŒ°</p>
<h3 id="å†ä¸¾ä¸ªğŸŒ°"><a href="#å†ä¸¾ä¸ªğŸŒ°" class="headerlink" title="å†ä¸¾ä¸ªğŸŒ°"></a>å†ä¸¾ä¸ªğŸŒ°</h3><h4 id="ç¬¬1æ­¥-1"><a href="#ç¬¬1æ­¥-1" class="headerlink" title="ç¬¬1æ­¥"></a>ç¬¬1æ­¥</h4><p>åŸæ¥çš„èŠ‚ç‚¹æ˜¯è¿™æ ·çš„ï¼šA B C Dï¼Œåæ¥çš„æ˜¯è¿™æ ·çš„ï¼šD C B Aï¼Œokï¼Œç»§ç»­çœ‹å›¾ä½œæ–‡ã€‚</p>
<p><img src="https://xuyonglinblog.oss-cn-beijing.aliyuncs.com/6.jpg" alt></p>
<h4 id="ç¬¬2æ­¥-1"><a href="#ç¬¬2æ­¥-1" class="headerlink" title="ç¬¬2æ­¥"></a>ç¬¬2æ­¥</h4><p>ç›®å‰çœŸå®çš„domå’ŒoldNodeListæ˜¯ä¸€æ ·ï¼Œä»¥å<strong><em>ç§»åŠ¨èŠ‚ç‚¹æ˜¯åœ¨çœŸå®çš„domä¸Šç§»åŠ¨çš„</em></strong>ã€‚oldStartå’ŒnewStartä»¥åŠnewEndå’ŒoldEndéƒ½ä¸æ˜¯å€¼å¾—æ¯”è¾ƒï¼Œå› æ­¤ä¼šè¿›è¡Œåˆ°oldStartå’ŒnewEndçš„æ¯”è¾ƒï¼Œpatchä¹‹åå¼€å§‹ç§»åŠ¨ï¼Œ<br>æ ¹æ®æ–‡ç« ä¸€å¼€å§‹ä»‹ç»çš„è§„åˆ™ï¼Œå°†oldStartç§»åŠ¨åˆ°<strong><em>oldEnd</em></strong>æ‰€æŒ‡å‘çš„çœŸå®èŠ‚ç‚¹çš„ä¸‹ä¸€ä¸ªï¼Œä¹Ÿå°±æ˜¯å°†Aç§»åŠ¨åˆ°Dçš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆåŠæ–‡æœ¬èŠ‚ç‚¹ï¼‰çš„å‰é¢ï¼Œé‚£ä¹ˆçœŸå®çš„domå°±å˜æˆäº†B C D Aï¼Œç„¶åç§»åŠ¨æŒ‡é’ˆ</p>
<p>moveçš„ä»£ç å¦‚ä¸‹</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">canMove &amp;&amp; nodeOps.insertBefore(parentElm, oldStartVnode.elm, nodeOps.nextSibling(oldEndVnode.elm))</span><br></pre></td></tr></table></figure>
<p>nodeOpsæ˜¯vueå¯¹weexå’Œwebçš„uiå˜åŒ–è¿›è¡Œå°è£…äº†ä¸€äº›æ–¹æ³•ï¼Œæ¯”å¦‚insertBeforeï¼ŒremoveChildï¼ŒappendChildç­‰ç­‰ï¼Œåœ¨<a href="https://github.com/vuejs/vue/tree/2.6/src/platforms" target="_blank" rel="noopener">è¿™ä¸ªä½ç½®</a> ä¼šçœ‹åˆ°ä¸¤ä¸ªæ–‡ä»¶å¤¹ï¼Œwebå’Œweexï¼Œå„æœ‰ä¸€ä¸ªruntime/node-ops.jsã€‚</p>
<p>å¦‚å›¾<br><img src="https://xuyonglinblog.oss-cn-beijing.aliyuncs.com/7.jpg" alt></p>
<h4 id="ç¬¬3æ­¥-1"><a href="#ç¬¬3æ­¥-1" class="headerlink" title="ç¬¬3æ­¥"></a>ç¬¬3æ­¥</h4><p>okï¼Œæ¥ä¸‹æ¥å°±æ˜¯ä¸‹ä¸€æ¬¡å¾ªç¯ï¼Œè¿˜æ˜¯è¿›å…¥oldStartä¸newEndçš„æ¯”è¾ƒï¼Œå’Œä¸Šä¸€æ­¥çš„æ¯”è¾ƒè§„åˆ™ä¸€æ ·ï¼Œè¿™æ¬¡æ˜¯æŠŠçœŸå®domBç§»åŠ¨åˆ°Dçš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆå³çœŸå®DomAï¼‰çš„å‰é¢å°±å˜æˆäº†C D B Aï¼Œç„¶åç§»åŠ¨æŒ‡é’ˆã€‚<br><img src="https://xuyonglinblog.oss-cn-beijing.aliyuncs.com/12.jpg" alt></p>
<h4 id="ç¬¬4æ­¥-1"><a href="#ç¬¬4æ­¥-1" class="headerlink" title="ç¬¬4æ­¥"></a>ç¬¬4æ­¥</h4><p>æœ€åä¸€æ­¥ï¼Œå·§äº†ï¼Œè¿˜æ˜¯æ¯”è¾ƒoldStartå’ŒnewEndï¼Œä¸åŒçš„æ˜¯è¿™æ¬¡æ˜¯domCï¼ŒæŒ‰ç…§è§„åˆ™ï¼Œæ˜¯æŠŠCç§»åŠ¨åˆ°Dçš„ä¸‹ä¸€ä¸ªèŠ‚ç‚¹ï¼ˆå³çœŸå®DomBï¼‰çš„å‰é¢ï¼Œå°±å˜æˆäº†D C B Aï¼Œæ˜¯ä¸æ˜¯å°±å’ŒnewVnodeçš„é¡ºåºæ˜¯ä¸€æ ·çš„äº†ã€‚</p>
<p><img src="https://xuyonglinblog.oss-cn-beijing.aliyuncs.com/8.jpg" alt></p>
<h3 id="å†å†ä¸¾ä¸ªä¾‹å­"><a href="#å†å†ä¸¾ä¸ªä¾‹å­" class="headerlink" title="å†å†ä¸¾ä¸ªä¾‹å­"></a>å†å†ä¸¾ä¸ªä¾‹å­</h3><h4 id="ç¬¬1æ­¥-2"><a href="#ç¬¬1æ­¥-2" class="headerlink" title="ç¬¬1æ­¥"></a>ç¬¬1æ­¥</h4><p>åŸæ¥çš„domèŠ‚ç‚¹æ˜¯A B C Dï¼Œæ–°çš„æ˜¯C D A Bï¼Œæ¯ä¸ªèŠ‚ç‚¹çš„keyå¯¹åº”çš„æ˜¯è‡ªå·±çš„åç§°ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼Œè¿™æ—¶ï¼Œä¸¤ç»„æŒ‡é’ˆç›¸äº’å¯¹æ¯”å‘ç°ï¼Œå¹¶ä¸èƒ½å¾—å‡ºæŸä¸ªdomèŠ‚ç‚¹çš„çŠ¶æ€ï¼Œè¿™å°±æ˜¯ä¸¤ç»„æŒ‡é’ˆä¸èƒ½æ¶µç›–çš„æƒ…å†µã€‚</p>
<p><img src="https://xuyonglinblog.oss-cn-beijing.aliyuncs.com/9.jpg" alt></p>
<h4 id="ç¬¬2æ­¥-2"><a href="#ç¬¬2æ­¥-2" class="headerlink" title="ç¬¬2æ­¥"></a>ç¬¬2æ­¥</h4><p>äºæ˜¯keyå°±èµ·åˆ°äº†ä½œç”¨ï¼Œåˆ›å»ºä¸€ä¸ªmap{A: 0,B: 1, C: 2, D: 3}ï¼Œè¿™æ˜¯ä¸€ä¸ªoldVnodeå’ŒkeyæŠ½å‡ºæ¥çš„æ˜ å°„ï¼Œç„¶åé€šè¿‡map[newStart.key]å°±èƒ½æ‰¾åˆ°newVnodeåœ¨åŸæ¥è€èŠ‚ç‚¹çš„ä½ç½®ï¼Œåœ¨è¿™ä¸ªğŸŒ°ä¸­ï¼Œå°±æ˜¯map[C]ï¼Œç„¶åå¯¹æ¯”oldVnodeCå’ŒnewVnodeCï¼Œç„¶åå°†å·®å¼‚æ›´æ–°åˆ°çœŸå®çš„domä¸Šï¼Œç„¶å<strong><em>å°†newStartå¯¹åº”çš„çœŸå®domç§»åŠ¨åˆ°oldStartçš„å‰é¢</em></strong>ï¼Œä¹Ÿå°±æ˜¯å°†çœŸå®domCæ”¾åœ¨Açš„å‰é¢ï¼Œå…¶å®ç”¨çš„ä¹Ÿæ˜¯parentEle.insertBefore(C, A)ç„¶ånewStartå¾€åæŒªåŠ¨ä¸€ä½ï¼Œå†æŠŠoldVnodeä¸­çš„Cç½®ä¸ºundefinedï¼Œå¦‚ä¸‹å›¾æ‰€ç¤º</p>
<p><img src="https://xuyonglinblog.oss-cn-beijing.aliyuncs.com/10.jpg" alt></p>
<h4 id="ç¬¬3æ­¥-2"><a href="#ç¬¬3æ­¥-2" class="headerlink" title="ç¬¬3æ­¥"></a>ç¬¬3æ­¥</h4><p>è‡³æ­¤ï¼Œæœ¬æ¬¡å¾ªç¯å°±ç»“æŸäº†ï¼Œè¿›å…¥ä¸‹ä¸€è½®å¾ªç¯ï¼Œç„¶åä¼šè¿›å…¥åˆ°oldEndå’ŒnewStartï¼Œå°±æ˜¯oldVnodeçš„Då’ŒnewVnodeçš„Dçš„å¯¹æ¯”ï¼Œæ›´æ–°å·®å¼‚ä¹‹åï¼Œ<strong><em>å°†oldEndå¯¹åº”çš„çœŸå®domç§»åŠ¨åˆ°oldStartçš„å‰é¢</em></strong>ï¼Œä¹Ÿå°±æ˜¯æŠŠDæ”¾åœ¨Açš„å‰é¢ï¼Œç„¶åå°†oldEndå‰ç§»ï¼ŒnewStartåç§»ï¼Œå˜æˆä¸‹é¢çš„æ ·å­ï¼ˆæ³¨ï¼šå½“æŒ‡é’ˆæŒ‡å‘undefinedæ—¶ï¼Œendä¼šå‰ç§»ï¼Œstartä¼šåç§»ï¼Œæ‰€ä»¥æˆ‘æŠŠç®­å¤´ç›´æ¥æŒ‡å‘äº†Bï¼‰ã€‚<br><img src="https://xuyonglinblog.oss-cn-beijing.aliyuncs.com/11.jpg" alt></p>
<h4 id="ç¬¬4æ­¥-2"><a href="#ç¬¬4æ­¥-2" class="headerlink" title="ç¬¬4æ­¥"></a>ç¬¬4æ­¥</h4><p>æ¥ä¸‹æ¥çš„æƒ…å†µå°±å¥½è¯´äº†ï¼Œdomå’ŒæœŸæœ›çš„é¡ºåºå·²ç»æ˜¯ä¸€è‡´çš„äº†ï¼Œæ¥ä¸‹æ¥å°±æ˜¯è¿ç”¨diffçš„startä¹‹é—´çš„æ¯”è¾ƒæ›´æ–°ä¸‹å·®å¼‚å°±è¡Œäº†ã€‚</p>
</div><div class="tags"><a href="../../../../tags/vue/">vue</a></div><div class="post-nav"><a class="pre" href="../../../07/22/å°åŸ¹æ€»ç»“/">å°åŸ¹æ€»ç»“</a><a class="next" href="../../04/reactçš„setState/">reactçš„setState</a></div><div id="container"></div><link rel="stylesheet" type="text/css" href="//unpkg.com/gitalk/dist/gitalk.css?v=0.0.0"><script type="text/javascript" src="//cdn.bootcss.com/blueimp-md5/2.10.0/js/md5.js?v=0.0.0"></script><script type="text/javascript" src="//unpkg.com/gitalk/dist/gitalk.min.js?v=0.0.0"></script><script>var gitalk = new Gitalk({
  clientID: '9fc19543f349999565e8',
  clientSecret: 'daab664e11d913d9afd26317879e7df79c3bcb8b',
  repo: 'xuyonglin222.github.io',
  owner: 'xuyonglin222',
  admin: ['xuyonglin222'],
  id: md5(location.pathname),
  distractionFreeMode: false
})
gitalk.render('container')
</script></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.baidu.com/baidu" method="get" accept-charset="utf-8" target="_blank"><input type="search" name="word" maxlength="20" placeholder="Search"><input type="hidden" name="si" value="http://yoursite.com"><input name="tn" type="hidden" value="bds"><input name="cl" type="hidden" value="3"><input name="ct" type="hidden" value="2097152"><input name="s" type="hidden" value="on"></form></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> å‹æƒ…é“¾æ¥</i></div><ul></ul><a href="http://korion.cn/" title="cyy" target="_blank">cyy</a><ul></ul><a href="http://www.mochiko.cn/" title="æå¹´ç³•" target="_blank">æå¹´ç³•</a><ul></ul><a href="https://anrans.github.io" title="é«˜é¹" target="_blank">é«˜é¹</a><ul></ul><a href="https://blog.csdn.net/xiaoritai7803" title="ä¹¦ç ”Sister" target="_blank">ä¹¦ç ”Sister</a><ul></ul><a href="https://waynewang98.github.io" title="waynewang98" target="_blank">waynewang98</a><ul></ul><a href="https://dymonelewis.github.io" title="å‚»çª" target="_blank">å‚»çª</a><ul></ul><a href="https://blog.alan123.xyz/" title="alan" target="_blank">alan</a></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> åˆ†ç±»</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="../../../../categories/å­¦ä¹ /">å­¦ä¹ </a></li><li class="category-list-item"><a class="category-list-link" href="../../../../categories/æŒ‡å¼¹/">æŒ‡å¼¹</a></li><li class="category-list-item"><a class="category-list-link" href="../../../../categories/ç”Ÿæ´»/">ç”Ÿæ´»</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> æ ‡ç­¾</i></div><div class="tagcloud"><a href="../../../../tags/æŒ‡å¼¹/" style="font-size: 15px;">æŒ‡å¼¹</a> <a href="../../../../tags/javascript/" style="font-size: 15px;">javascript</a> <a href="../../../../tags/å­¦ä¹ /" style="font-size: 15px;">å­¦ä¹ </a> <a href="../../../../tags/vue/" style="font-size: 15px;">vue</a> <a href="../../../../tags/React-Native/" style="font-size: 15px;">React Native</a> <a href="../../../../tags/æ‚è®°/" style="font-size: 15px;">æ‚è®°</a> <a href="../../../../tags/About/" style="font-size: 15px;">About</a> <a href="../../../../tags/Hexo/" style="font-size: 15px;">Hexo</a> <a href="../../../../tags/react/" style="font-size: 15px;">react</a> <a href="../../../../tags/ä¸çŸ¥é“å½’ä¸ºå“ªä¸€åˆ—ç³»åˆ—/" style="font-size: 15px;">ä¸çŸ¥é“å½’ä¸ºå“ªä¸€åˆ—ç³»åˆ—</a> <a href="../../../../tags/koa/" style="font-size: 15px;">koa</a> <a href="../../../../tags/ç®—æ³•/" style="font-size: 15px;">ç®—æ³•</a> <a href="../../../../tags/http/" style="font-size: 15px;">http</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> æœ€è¿‘æ–‡ç« </i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="../../../08/07/Quic/">Quic</a></li><li class="post-list-item"><a class="post-list-link" href="../../../07/25/MingJingNote/">ç”±æ˜é•œé¡¹ç›®å¼•èµ·çš„å­¦ä¹ è®°å½•</a></li><li class="post-list-item"><a class="post-list-link" href="../../../07/22/å°åŸ¹æ€»ç»“/">å°åŸ¹æ€»ç»“</a></li><li class="post-list-item"><a class="post-list-link" href>vueçš„diff</a></li><li class="post-list-item"><a class="post-list-link" href="../../04/reactçš„setState/">reactçš„setState</a></li><li class="post-list-item"><a class="post-list-link" href="../../../../2018/12/31/selfPromise/">selfPromise</a></li><li class="post-list-item"><a class="post-list-link" href="../../../../2018/12/07/gitæ‚è®°/">gitæ‚è®°</a></li><li class="post-list-item"><a class="post-list-link" href="../../../../2018/08/07/koaMiddle/">koaMiddleWare</a></li><li class="post-list-item"><a class="post-list-link" href="../../../../2018/07/25/sort/">sort</a></li><li class="post-list-item"><a class="post-list-link" href="../../../../2018/07/19/Ngnix/">Ngnix</a></li></ul></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright Â© 2019 <a href="../../../../." rel="nofollow">åºšåºš.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="../../../../js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js" async></script><script type="text/javascript" src="../../../../js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><script type="text/javascript" src="../../../../js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="../../../../js/smartresize.js?v=0.0.0"></script></div></body></html>