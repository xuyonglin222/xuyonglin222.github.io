<!DOCTYPE html><html lang="zh-CN"><head><meta name="generator" content="Hexo 3.9.0"><meta http-equiv="content-type" content="text/html; charset=utf-8"><meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport"><meta content="yes" name="apple-mobile-web-app-capable"><meta content="black-translucent" name="apple-mobile-web-app-status-bar-style"><meta content="telephone=no" name="format-detection"><meta name="description" content="任风雨飘摇 我自怡然不动"><title>ReactNativeComponent | 庚庚</title><link rel="stylesheet" type="text/css" href="../../../../css/style.css?v=0.0.0"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/normalize/8.0.1/normalize.min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/pure-min.css"><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/pure/1.0.0/grids-responsive-min.css"><link rel="stylesheet" href="//lib.baomitu.com/font-awesome/4.7.0/css/font-awesome.min.css"><script type="text/javascript" src="//lib.baomitu.com/jquery/3.4.0/jquery.min.js"></script><link rel="icon" mask sizes="any" href="../../../../favicon.ico"><link rel="Shortcut Icon" type="image/x-icon" href="../../../../favicon.ico"><link rel="apple-touch-icon" href="../../../../apple-touch-icon.png"><link rel="apple-touch-icon-precomposed" href="../../../../apple-touch-icon.png"><link rel="alternate" type="application/atom+xml" href="../../../../atom.xml"></head><body><div class="body_container"><div id="header"><div class="site-name"><h1 class="hidden">ReactNativeComponent</h1><a id="logo" href="../../../../.">庚庚</a><p class="description">任风雨飘摇 我自怡然不动</p></div><div id="nav-menu"><a class="current" href="../../../../."><i class="fa fa-home"> 首页</i></a><a href="../../../../archives/"><i class="fa fa-archive"> 归档</i></a><a href="../../../../about/"><i class="fa fa-user"> 关于</i></a><a href="../../../../atom.xml"><i class="fa fa-rss"> 订阅</i></a></div></div><div class="pure-g" id="layout"><div class="pure-u-1 pure-u-md-3-4"><div class="content_container"><div class="post"><h1 class="post-title">ReactNativeComponent</h1><div class="post-meta">Jun 1, 2018<span> | </span><span class="category"><a href="../../../../categories/学习/">学习</a></span><script src="https://busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js" async></script><span id="busuanzi_container_page_pv"> | <span id="busuanzi_value_page_pv"></span><span> 阅读</span></span><span class="post-time"><span class="post-meta-item-text"> | </span><span class="post-meta-item-icon"><i class="fa fa-keyboard-o"></i><span class="post-count"> 1,984</span><span class="post-meta-item-text"> 字</span></span></span><span class="post-time"> | <span class="post-meta-item-icon"><i class="fa fa-hourglass-half"></i><span class="post-count"> 7</span><span class="post-meta-item-text"> 分钟</span></span></span></div><div class="post-content"><link rel="stylesheet" class="aplayer-secondary-style-marker" href="／xuyonglin222.github.io/assets/css/APlayer.min.css"><script src="／xuyonglin222.github.io/assets/js/APlayer.min.js" class="aplayer-secondary-script-marker"></script><blockquote>
<p>最近在玩React Native，话说React Native的环境真的烂啊，莫名其妙就崩了一次一次又一次。<br>初学了一些东西，做个总结。<br><a id="more"></a></p>
</blockquote>
<h3 id="AppRegistry"><a href="#AppRegistry" class="headerlink" title="AppRegistry"></a>AppRegistry</h3><p>AppRegistry是JS运行所有React Native应用的入口。应用的根组件应当通过AppRegistry.registerComponent方法注册自己，然后原生系统才可以加载应用的代码包并且在启动完成之后通过调用AppRegistry.runApplication来真正运行应用。<br>要“结束”一个应用并销毁视图的话，请调用AppRegistry.unmountApplicationComponentAtRootTag方法，参数为在runApplication中使用的标签名。它们必须严格匹配。<br>AppRegistry应当在require序列中尽可能早的被require到，以确保JS运行环境在其它模块之前被准备好。</p>
<h3 id="StyleSheet"><a href="#StyleSheet" class="headerlink" title="StyleSheet"></a>StyleSheet</h3><p>StyleSheet提供了一种类似CSS样式表的抽象。<br>创建一个样式表：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">var styles = StyleSheet.create(&#123;</span><br><span class="line">  container: &#123;</span><br><span class="line">    borderRadius: 4,</span><br><span class="line">    borderWidth: 0.5,</span><br><span class="line">    borderColor: <span class="string">'#d6d7da'</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  title: &#123;</span><br><span class="line">    fontSize: 19,</span><br><span class="line">    fontWeight: <span class="string">'bold'</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  activeTitle: &#123;</span><br><span class="line">    color: <span class="string">'red'</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>使用一个样式表：<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&lt;View style=&#123;styles.container&#125;&gt;</span><br><span class="line">  &lt;Text style=&#123;[styles.title, this.props.isActive &amp;&amp; styles.activeTitle]&#125; /&gt;</span><br><span class="line">&lt;/View&gt;</span><br></pre></td></tr></table></figure></p>
<p>从代码质量角度：<br>从render函数中移除具体的样式内容，可以使代码更清晰易懂。<br>给样式命名也是对render函数中的原始组件的作用的一种标记。<br>从性能角度：<br>创建一个样式表，就可以使得我们后续更容易通过ID来引用样式，而不是每次都创建一个新的对象。<br>它还使得样式只会在JavaScript和原生之间传递一次，随后的过程都可以只传递一个ID（这个优化还未实现）。<br>注意：create() 和 hairlineWidth<br>这一常量定义了当前平台上的最细的宽度。可以用作边框或是两个元素间的分隔线。例如：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">    borderBottomColor: <span class="string">'#bbb'</span>,</span><br><span class="line">    borderBottomWidth: StyleSheet.hairlineWidth</span><br><span class="line"> &#125;</span><br></pre></td></tr></table></figure>
<p>这一常量始终是一个整数的像素值（线看起来会像头发丝一样细），并会尽量符合当前平台最细的线的标准。然而，你不能把它“视为一个常量”，因为不同的平台和不同的屏幕像素密度会导致不同的结果。</p>
<h3 id="Text"><a href="#Text" class="headerlink" title="Text"></a>Text</h3><p>一个用于显示文本的React组件，并且它也支持嵌套、样式，以及触摸处理。<br>Android内建的字体有:</p>
<ul>
<li>normal</li>
<li>serif</li>
<li>monospace <br></li>
</ul>
<p>\<text>元素在布局上不同于其它组件：在Text内部的元素不再使用flexbox布局，而是采用文本布局。这意味着\<text>内部的元素不再是一个个矩形，而可能会在行末进行折叠。<br>\<text>元素在布局上不同于其它组件：在Text内部的元素不再使用flexbox布局，而是采用文本布局。这意味着\<text>内部的元素不再是一个个矩形，而可能会在行末进行折叠。<br>你必须把你的文本节点放在\<text>组件内。你不能直接在\<view>下放置一段文本。</view></text></text></text></text></text></p>
<h3 id="Image"><a href="#Image" class="headerlink" title="Image"></a>Image</h3><h4 id="宽、高尺寸设置"><a href="#宽、高尺寸设置" class="headerlink" title="宽、高尺寸设置"></a>宽、高尺寸设置</h4><ul>
<li>Image 组件必须在样式中声明图片的宽和高。如果没有声明，则图片将不会被呈现在界面上。</li>
<li>有时我们需要将某张图片点对点地显示在手机上，如果我们知道图片实际分辨率（比如：actrualWidth * actrualHeight），那么可以使用如下方式定义图片显示样式：<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">preciseImageStyle: &#123;</span><br><span class="line">  width: actrualWidth / PixelRatio.get(),</span><br><span class="line">  height: actrualHeight / PixelRatio.get(),</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h4 id="Image组件的常见属性"><a href="#Image组件的常见属性" class="headerlink" title="Image组件的常见属性"></a>Image组件的常见属性</h4><ul>
<li><p>onLayout(function) <br><br>当Image布局发生改变的，会进行调用该方法，调用的代码为:{nativeEvent: {layout: {x, y, width, height}}}.</p>
</li>
<li><p>onLoad (function)  <br><br>当图片加载成功之后，回调该方法</p>
</li>
<li><p>onLoadEnd (function)  <br><br>当图片加载失败回调该方法，该不会管图片加载成功还是失败</p>
</li>
<li>onLoadStart (fcuntion)  <br><br>当图片开始加载的时候调用该方法</li>
<li>resizeMode  <br><br>缩放比例,可选参数(‘cover’, ‘contain’, ‘stretch’) 该当图片的尺寸超过布局的尺寸的时候，会根据设置Mode进行缩放或者裁剪图片</li>
<li>source{uri:string}  <br><br>进行标记图片的引用，该参数可以为一个网络url地址或者一个本地的路径<br>它可以接收一个数组作为参数，这样可根据组件的宽和高自动加载与之匹配的宽和高的图片。使用方式如下:<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;Image</span><br><span class="line">               style=&#123;&#123;flex: 1&#125;&#125;</span><br><span class="line">               <span class="built_in">source</span>=&#123;[</span><br><span class="line">                  &#123;uri:<span class="string">'https://facebook.github.io/react/img/logo_small.png'</span>, width: 38, height: 38&#125;,</span><br><span class="line">                 &#123;uri: <span class="string">'https://facebook.github.io/react/img/logo_small_2x.png'</span>, width: 76, height: 76&#125;,</span><br><span class="line">                 &#123;uri: <span class="string">'https://facebook.github.io/react/img/logo_og.png'</span>, width: 400, height: 400&#125;</span><br><span class="line">                       ]&#125;</span><br><span class="line">                   /&gt;</span><br></pre></td></tr></table></figure>
</li>
</ul>
<h3 id="View"><a href="#View" class="headerlink" title="View"></a>View</h3><p>作为创建UI时最基础的组件，View是一个支持Flexbox布局、样式、一些触摸处理、和一些无障碍功能的容器，并且它可以放到其它的视图里，也可以有任意多个任意类型的子视图。不论在什么平台上，View都会直接对应一个平台的原生视图，无论它是UIView、\<div>还是android.view.View。<br>View的设计初衷是和StyleSheet搭配使用，这样可以使代码更清晰并且获得更高的性能。尽管内联样式也同样可以使用。</div></p>
<h4 id="accessible-bool"><a href="#accessible-bool" class="headerlink" title="accessible bool"></a>accessible bool</h4><p>当此属性为true时，表示此视图时一个启用了无障碍功能的元素。默认情况下，所有可触摸操作的元素都是无障碍功能元素。</p>
<p>如果要为View添加普通点击事件，请直接使用Touchable系列组件替代View，然后添加onPress函数。</p>
<h4 id="onResponderMove-function"><a href="#onResponderMove-function" class="headerlink" title="onResponderMove function"></a>onResponderMove function</h4><p>当用户正在屏幕上移动手指时调用这个函数</p>
<h3 id="Button"><a href="#Button" class="headerlink" title="Button"></a>Button</h3><p>一个简单的跨平台的按钮组件。可以进行一些简单的定制。<br>disabled bool<br>设置为true时此按钮将不可点击</p>
<p> title: PropTypes.string.isRequired,<br>Platform.OS === ‘android’ ? title.toUpperCase() : title;</p>
<h3 id="FlatList"><a href="#FlatList" class="headerlink" title="FlatList"></a>FlatList</h3><p>FlatList组件用于显示一个垂直的滚动列表，其中的元素之间结构近似而仅数据不同。<br>FlatList组件必须的两个属性是data和renderItem。data是列表的数据源，而renderItem则从数据源中逐个解析数据，然后返回一个设定好格式的组件来渲染。<br>FlatList更适于长列表数据，且元素个数可以增删。和ScrollView不同的是，FlatList并不立即渲染所有元素，而是优先渲染屏幕上可见的元素。</p>
<h3 id="SectionList"><a href="#SectionList" class="headerlink" title="SectionList"></a>SectionList</h3><p>如果要渲染的是一组需要分组的数据，也许还带有分组标签的，那么SectionList将是个不错的选择。</p>
<h3 id="TouchableOpacity"><a href="#TouchableOpacity" class="headerlink" title="TouchableOpacity"></a>TouchableOpacity</h3><p>本组件用于封装视图，使其可以正确响应触摸操作。当按下的时候，封装的视图的不透明度会降低。这个过程并不会真正改变视图层级，大部分情况下很容易添加到应用中而不会带来一些奇怪的副作用。<br>此组件与TouchableHighlight的区别在于并没有额外的颜色变化，更适于一般场景</p>
<h3 id="TouchableHighlight"><a href="#TouchableHighlight" class="headerlink" title="TouchableHighlight"></a>TouchableHighlight</h3><p><em>注意：TouchableHighlight只支持一个子节点<br>如果你希望包含多个子组件，用一个View来包装它们。</em></p>
<h3 id="ScrollView"><a href="#ScrollView" class="headerlink" title="ScrollView"></a>ScrollView</h3><p>一个包装了平台的ScrollView（滚动视图）的组件，同时还集成了触摸锁定的“响应者”系统。<br>ScrollView和ListView/FlatList应该如何选择？<br>ScrollView会简单粗暴地把所有子元素一次性全部渲染出来。ListView会惰性渲染子元素，只在它们将要出现在屏幕中时开始渲染。FlatList是0.43版本开始新出的改进版的ListView，性能更优。</p>
<h4 id="horizontal-bool"><a href="#horizontal-bool" class="headerlink" title="horizontal bool"></a>horizontal bool</h4><p>当此属性为true的时候，所有的子视图会在水平方向上排成一行，而不是默认的在垂直方向上排成一列。默认值为false。</p>
<h4 id="pagingEnabled-bool"><a href="#pagingEnabled-bool" class="headerlink" title="pagingEnabled bool"></a>pagingEnabled bool</h4><p>当值为true时，滚动条会停在滚动视图的尺寸的整数倍位置。这个可以用在水平分页上。默认值为false。</p>
<h4 id="showsHorizontalScrollIndicator-bool"><a href="#showsHorizontalScrollIndicator-bool" class="headerlink" title="showsHorizontalScrollIndicator bool"></a>showsHorizontalScrollIndicator bool</h4><p>当此属性为true的时候，显示一个水平方向的滚动条。</p>
<h3 id="Dimensions"><a href="#Dimensions" class="headerlink" title="Dimensions"></a>Dimensions</h3><p>本模块用于获取设备屏幕的宽高<br>例子：var {height, width} = Dimensions.get(‘window’);</p>
</div><div class="tags"><a href="../../../../tags/React-Native/">React Native</a></div><div class="post-nav"><a class="pre" href="../../08/choppingHand1/">choppingHand1</a><a class="next" href="../../../05/23/friendships/">friendships</a></div><div id="container"></div><link rel="stylesheet" type="text/css" href="//unpkg.com/gitalk/dist/gitalk.css?v=0.0.0"><script type="text/javascript" src="//cdn.bootcss.com/blueimp-md5/2.10.0/js/md5.js?v=0.0.0"></script><script type="text/javascript" src="//unpkg.com/gitalk/dist/gitalk.min.js?v=0.0.0"></script><script>var gitalk = new Gitalk({
  clientID: '9fc19543f349999565e8',
  clientSecret: 'daab664e11d913d9afd26317879e7df79c3bcb8b',
  repo: 'xuyonglin222.github.io',
  owner: 'xuyonglin222',
  admin: ['xuyonglin222'],
  id: md5(location.pathname),
  distractionFreeMode: false
})
gitalk.render('container')
</script></div></div></div><div class="pure-u-1-4 hidden_mid_and_down"><div id="sidebar"><div class="widget"><form class="search-form" action="//www.baidu.com/baidu" method="get" accept-charset="utf-8" target="_blank"><input type="search" name="word" maxlength="20" placeholder="Search"><input type="hidden" name="si" value="http://xuyonglin222.github.io"><input name="tn" type="hidden" value="bds"><input name="cl" type="hidden" value="3"><input name="ct" type="hidden" value="2097152"><input name="s" type="hidden" value="on"></form></div><div class="widget"><div class="widget-title"><i class="fa fa-external-link"> 友情链接</i></div><ul></ul><a href="http://korion.cn/" title="cyy" target="_blank">cyy</a><ul></ul><a href="http://www.mochiko.cn/" title="李年糕" target="_blank">李年糕</a><ul></ul><a href="https://anrans.github.io" title="高鹏" target="_blank">高鹏</a><ul></ul><a href="https://blog.csdn.net/xiaoritai7803" title="书研Sister" target="_blank">书研Sister</a><ul></ul><a href="https://waynewang98.github.io" title="waynewang98" target="_blank">waynewang98</a><ul></ul><a href="https://dymonelewis.github.io" title="傻琪" target="_blank">傻琪</a><ul></ul><a href="https://blog.alan123.xyz/" title="alan" target="_blank">alan</a></div><div class="widget"><div class="widget-title"><i class="fa fa-folder-o"> 分类</i></div><ul class="category-list"><li class="category-list-item"><a class="category-list-link" href="../../../../categories/学习/">学习</a></li><li class="category-list-item"><a class="category-list-link" href="../../../../categories/指弹/">指弹</a></li><li class="category-list-item"><a class="category-list-link" href="../../../../categories/生活/">生活</a></li></ul></div><div class="widget"><div class="widget-title"><i class="fa fa-star-o"> 标签</i></div><div class="tagcloud"><a href="../../../../tags/杂记/" style="font-size: 15px;">杂记</a> <a href="../../../../tags/javascript/" style="font-size: 15px;">javascript</a> <a href="../../../../tags/学习/" style="font-size: 15px;">学习</a> <a href="../../../../tags/vue/" style="font-size: 15px;">vue</a> <a href="../../../../tags/React-Native/" style="font-size: 15px;">React Native</a> <a href="../../../../tags/指弹/" style="font-size: 15px;">指弹</a> <a href="../../../../tags/About/" style="font-size: 15px;">About</a> <a href="../../../../tags/Hexo/" style="font-size: 15px;">Hexo</a> <a href="../../../../tags/react/" style="font-size: 15px;">react</a> <a href="../../../../tags/不知道归为哪一列系列/" style="font-size: 15px;">不知道归为哪一列系列</a> <a href="../../../../tags/koa/" style="font-size: 15px;">koa</a> <a href="../../../../tags/算法/" style="font-size: 15px;">算法</a> <a href="../../../../tags/http/" style="font-size: 15px;">http</a></div></div><div class="widget"><div class="widget-title"><i class="fa fa-file-o"> 最近文章</i></div><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="../../../../2019/08/07/Quic/">Quic</a></li><li class="post-list-item"><a class="post-list-link" href="../../../../2019/07/25/MingJingNote/">由明镜项目引起的学习记录</a></li><li class="post-list-item"><a class="post-list-link" href="../../../../2019/07/22/封培总结/">封培总结</a></li><li class="post-list-item"><a class="post-list-link" href="../../../../2019/01/17/vue的diff/">vue的diff</a></li><li class="post-list-item"><a class="post-list-link" href="../../../../2019/01/04/react的setState/">react的setState</a></li><li class="post-list-item"><a class="post-list-link" href="../../../12/31/selfPromise/">selfPromise</a></li><li class="post-list-item"><a class="post-list-link" href="../../../12/07/git杂记/">git杂记</a></li><li class="post-list-item"><a class="post-list-link" href="../../../08/07/koaMiddle/">koaMiddleWare</a></li><li class="post-list-item"><a class="post-list-link" href="../../../07/25/sort/">sort</a></li><li class="post-list-item"><a class="post-list-link" href="../../../07/19/Ngnix/">Ngnix</a></li></ul></div></div></div><div class="pure-u-1 pure-u-md-3-4"><div id="footer">Copyright © 2019 <a href="../../../../." rel="nofollow">庚庚.</a> Powered by<a rel="nofollow" target="_blank" href="https://hexo.io"> Hexo.</a><a rel="nofollow" target="_blank" href="https://github.com/tufu9441/maupassant-hexo"> Theme</a> by<a rel="nofollow" target="_blank" href="https://github.com/pagecho"> Cho.</a></div></div></div><a class="show" id="rocket" href="#top"></a><script type="text/javascript" src="../../../../js/totop.js?v=0.0.0" async></script><script type="text/javascript" src="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.js" async></script><script type="text/javascript" src="../../../../js/fancybox.js?v=0.0.0" async></script><link rel="stylesheet" type="text/css" href="//lib.baomitu.com/fancybox/3.5.7/jquery.fancybox.min.css"><script type="text/javascript" src="../../../../js/codeblock-resizer.js?v=0.0.0"></script><script type="text/javascript" src="../../../../js/smartresize.js?v=0.0.0"></script></div></body></html>